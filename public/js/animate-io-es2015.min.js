"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,(function(e){return o(t[i][1][e]||e)}),l,l.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){var r=e("./modules/Settings"),o=e("./modules/ObserverManager"),a=e("./modules/AnimationManager");!function(e){e.AnimateIO={InitObservers:function(e){(0,r.OverrideDefaultObserverSettings)(e),(0,o.InitAIObservers)()},Observe:o.ObserveElementsContinuous,ObserveOnce:o.ObserveElementsOnce,StopObservers:o.KillAllObservers,DestroyObservers:o.DestroyAnimateIO,RestartObservers:o.RestartAnimateIO,Animate:function(e){(0,r.OverrideDefaultAnimationSettings)(e),(0,a.InitAnimations)()},AnimateEnd:a.KillAnimateInstance,AnimateRestart:a.RestartAnimateInstance}}(window)},{"./modules/AnimationManager":2,"./modules/ObserverManager":7,"./modules/Settings":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RestartAnimateInstance=n.KillAnimateInstance=n.InitAnimations=void 0;var r=e("./AnimationStateMachine"),o=e("./Helpers"),a=e("./Mutations"),i=e("./Render"),s=e("./Settings"),c=!1,u=function(){c&&console.error("AnimateIO.Animate() already initialized. To start a new instance, please stop the current animations instance using:\nAnimateIO.StopAnimations();"),(0,o.QueryMedia)(s.AnimationSettings.activeRange)?((0,r.InitiateAnimationObserver)(),(0,r.InitAnimationStateMachine)(),(0,r.ObserveStateMachineObjects)(),(0,i.InitRenderer)(),s.AnimationSettings.trackMutations&&setTimeout((function(){return l()}),s.AnimationSettings.mutationWatchDelay),s.AnimationSettings.gridHelper&&setTimeout((function(){return(0,o.DrawGrid)()}),1e3),c=!0,f()):console.log("AnimateIO.Animate() can't initialize since the screen width is outside the range: ".concat(s.AnimationSettings.activeRange))};n.InitAnimations=u;var l=function(){(0,a.AddMutationListener)({name:"animations_listener",callback:function(e){(0,r.UpdateStateMachine)()}})},f=function(){(0,o.QueryMedia)(s.AnimationSettings.activeRange,(function(e){e.matches?c||null!=e.remove&&(e.remove(),console.log("Restarting AnimateIO.Animate as browser width is inside the acceptable range: ".concat(s.AnimationSettings.activeRange,"px")),u()):c&&(console.log("Stopping AnimateIO.Animate as browser width is outside the range: ".concat(s.AnimationSettings.activeRange)),m())}))},m=function(){(0,i.StopRenderLoop)(),(0,r.StopAnimationObserver)(),(0,a.ResetMutationObserver)(),(0,r.ResetStateMachine)(),c=!1};n.KillAnimateInstance=m;n.RestartAnimateInstance=function(){m(),u()}},{"./AnimationStateMachine":3,"./Helpers":5,"./Mutations":6,"./Render":8,"./Settings":9}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ResetStateMachine=n.StopAnimationObserver=n.ObserveStateMachineObjects=n.InitiateAnimationObserver=n.UpdateStateMachine=n.InitAnimationStateMachine=n.StateMachine=void 0;var r=e("./Constants"),o=e("./Render"),a=e("./Settings"),i={activeCount:0,elements:[],singleFrameElements:[]};n.StateMachine=i;n.InitAnimationStateMachine=function(){u((function(e){console.log("".concat(e," animateable elements found"))}))};n.UpdateStateMachine=function(){u((function(e){console.log("".concat(e," new animateable elements found")),v(),setTimeout((function(){return(0,o.ForceRenderLoop)()}),100)}))};var s={id:"",domElement:null,ratio:0,repeat:!0,keyframes:[],observerAttached:!1},c=0,u=function(e){var t=_toConsumableArray(document.getElementsByTagName("*")).filter((function(e){return Object.entries(e.attributes).map((function(e){return e[1]})).some((function(e){return/^data-aio--?[0-9]+/g.test(e.name)}))})).filter((function(e){return!e.hasAttribute(r.SMO_ID_ATTR_NAME)}));t.forEach((function(e,t){var n=e.attributes,o=Array.from(n).filter((function(e){return/^data-aio--?[0-9]+/g.test(e.name)})),a="aio-pl-".concat(++c,"-").concat(t);e.setAttribute(r.SMO_ID_ATTR_NAME,a);var u=_objectSpread({},s);u.id=a,u.repeat=e.hasAttribute("data-aio-repeat"),u.domElement=e,u.keyframes=l(o,e),u.observerAttached=!1,1==o.length?i.singleFrameElements.push(u):i.elements.push(u)})),e(t.length)},l=function(e,t){var n=[];e.forEach((function(e,r){var o={};e.value.trim().split(";").forEach((function(e){if(e.length>0){var t=e.split(":")[0].trim(),n=e.split(":")[1].trim(),r=[];n=n.replace(/[\-+]?[\d]*\.?[\d]+/g,(function(e){return r.push(+e),"{?}"})),r.unshift(n),o[t]={value:r}}}));var a=parseInt(e.name.replace("data-aio-",""));n.push({offset:a,absOffset:a,props:o}),t.setAttribute("data-kf-".concat(r),a)})),"relative"==a.AnimationSettings.mode&&n.forEach((function(e,n){var r=t.offsetTop+e.offset-window.innerHeight;e.absOffset=r,t.setAttribute("data-kf-".concat(n),r)})),n.sort((function(e,t){return e.absOffset>t.absOffset?1:t.absOffset>e.absOffset?-1:0}));for(var r=0,o={};r<n.length;r++)f(n[r],o);for(o={},r--;r>=0;r--)f(n[r],o);return n},f=function(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},m=null;n.InitiateAnimationObserver=function(){m=new IntersectionObserver((function(e,t){e.forEach((function(e){var n=e.target,o=n.getAttribute(r.SMO_ID_ATTR_NAME),a=i.elements.filter((function(e){return e.id==o}))[0],s=!1,c=e.intersectionRatio;if(a.ratio=c,n.setAttribute("data-ratio",c),c>0&&(s=!0,i.activeCount++),0==c&&s&&(i.activeCount--,!a.repeat)){t.unobserve(n);var u=i.elements.findIndex((function(e){return e.id==o}));i.elements.splice(u,1)}}))}),{root:null,rootMargin:"0px",threshold:0})};var v=function(){i.elements.length>0&&i.elements.filter((function(e){return!e.observerAttached})).forEach((function(e){m.observe(e.domElement),e.observerAttached=!0}))};n.ObserveStateMachineObjects=v;n.StopAnimationObserver=function(){m.disconnect()};n.ResetStateMachine=function(){[].concat(_toConsumableArray(i.elements),_toConsumableArray(i.singleFrameElements)).forEach((function(e){e.domElement.removeAttribute(r.SMO_ID_ATTR_NAME)})),i.activeCount=0,i.elements=[],i.singleFrameElements=[]}},{"./Constants":4,"./Render":8,"./Settings":9}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SMO_ID_ATTR_NAME=void 0;n.SMO_ID_ATTR_NAME="data-aio-smo-id"},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QueryMedia=n.RemoveClasses=n.AddClasses=n.DrawGrid=n.AttrToNum=n.GetAttrVal=void 0;var r=function(e,t,n){var r=n;if(e.hasAttribute(t)){var o=e.getAttribute(t);null!=o&&(r=o)}return r};n.GetAttrVal=r;n.AttrToNum=function(e,t,n){var o=r(e,t,n),a=parseInt(o);return Number.isNaN(a)?n:a};n.DrawGrid=function(){var e=document.createElement("div");e.id="aio-grid-container";for(var t=document.documentElement.scrollHeight,n=0;n<t;n+=100){var r=document.createElement("div");r.className="aio-row",r.innerHTML='<div class="num">'.concat(n,'</div><div class="num">').concat(n,"</div>"),e.appendChild(r)}document.body.appendChild(e)};n.AddClasses=function(e,t){t.forEach((function(t){e.classList.add(t)}))};n.RemoveClasses=function(e,t){t.forEach((function(t){e.classList.remove(t)}))};n.QueryMedia=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=window.matchMedia(e);if(null==t)return n.matches;t({matches:n.matches,remove:null});var r=function(e){t({matches:e,remove:function(){return n.removeListener(o)}})},o=function(e){r(e.matches)};n.addListener(o)}},{}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ResetMutationObserver=n.StopMutationObserver=n.RemoveMutationListener=n.AddMutationListener=void 0;var r=null;(r=new MutationObserver((function(e){o.forEach((function(t){t.callback(e)}))}))).observe(document,{attributes:!1,childList:!0,subtree:!0,characterData:!0});var o=[];n.AddMutationListener=function(e){o.some((function(t){return t.name==e.name}))||(o.push(e),e.callback())};n.RemoveMutationListener=function(e){var t=o.findIndex((function(t){return t.name==e}));t>-1&&o.splice(t,1),0==o.length&&a()};var a=function(){r.disconnect()};n.StopMutationObserver=a;n.ResetMutationObserver=function(){a(),o=[]}},{}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RestartAnimateIO=n.DestroyAnimateIO=n.ResetAnimateIO=n.KillAllObservers=n.ObserveElementsContinuous=n.ObserveElementsOnce=n.InitAIObservers=void 0;var r=e("./Settings"),o=e("./Helpers"),a=e("./Mutations"),i=[];n.InitAIObservers=function(){u(),r.ObserverSettings.trackMutations&&setTimeout((function(){return s()}),r.ObserverSettings.mutationWatchDelay)};var s=function(){(0,a.AddMutationListener)({name:"observer_listener",callback:function(e){setTimeout((function(){return u()}),10)}})},c=0,u=function(){var e=document.querySelectorAll("[".concat(r.ObserverSettings.observableAttrName,"]"));Array.from(e).filter((function(e){return!e.hasAttribute("data-aio-id")})).forEach((function(e,t){e.setAttribute("data-aio-id","aio_auto_".concat(++c,"_").concat(t));var n=e.hasAttribute("data-aio-repeat")||r.ObserverSettings.repeat,a=(0,o.AttrToNum)(e,"data-aio-delay",r.ObserverSettings.delay),s=r.ObserverSettings.rootMargin;if(e.hasAttribute("data-aio-offset")){var u=e.getAttribute("data-aio-offset");null!=u&&u.length>0&&(s=u)}var l=!1,f=(0,o.GetAttrVal)(e,"data-aio-enter-class",""),m=[r.ObserverSettings.enterIntersectionClassName,f.split(" ")],v=e.getAttribute(r.ObserverSettings.observableAttrName);v.length>0&&m.push("aio-".concat(v)),m=m.filter((function(e){return""!=e}));var d=(0,o.GetAttrVal)(e,"data-aio-exit-class",""),b=[r.ObserverSettings.exitIntersectionClassName,d.split(" ")];b=b.filter((function(e){return""!=e}));var p=!1,A=[],O=(0,o.GetAttrVal)(e,"data-aio-lazy-attr",null);if(null!=O&&O.length>10){var h=JSON.parse(O);Array.isArray(h)&&h.length>0&&A.push.apply(A,_toConsumableArray(h))}var g=e;if(e.hasAttribute("data-aio-ref")){var y=document.querySelectorAll(e.getAttribute("data-aio-ref"));y.length>0&&(g=y)}var S={root:r.ObserverSettings.root,rootMargin:s,threshold:r.ObserverSettings.threshold},M=new IntersectionObserver((function(t,r){t.forEach((function(t){var i=t.intersectionRatio,s=0;i>0&&(l=!0,p||(p=!0,A.forEach((function(t){var n=Object.keys(t)[0];e.setAttribute(n,t[n])}))),s=setTimeout((function(){(0,o.RemoveClasses)(e,b),(0,o.AddClasses)(e,m)}),a)),0==i&&n&&(clearTimeout(s),(0,o.RemoveClasses)(e,m),(0,o.AddClasses)(e,b)),0==i&&!n&&l&&(r.unobserve(e),r.disconnect())}))}),S);NodeList.prototype.isPrototypeOf(g)?g.forEach((function(e){M.observe(e)})):M.observe(e),i.push(M)}))},l=function(e,t,n,r){var o=_objectSpread({root:null,rootMargin:"0px",threshold:0},t),a=new IntersectionObserver((function(e,t){e.forEach((function(e){n(e),0!=e.intersectionRatio?(e.in&&e.in(),r||(t.unobserve(e.target),t.disconnect())):e.out&&e.out()}))}),o);"string"==typeof e&&e.trim().length>0?document.querySelectorAll(e).forEach((function(e){return a.observe(e)})):e instanceof Element?a.observe(e):NodeList.prototype.isPrototypeOf(e)?e.forEach((function(e){return a.observe(e)})):HTMLCollection.prototype.isPrototypeOf(e)?_toConsumableArray(e).forEach((function(e){return a.observe(e)})):console.error("Target element: '".concat(e,"' not found"))};n.ObserveElementsOnce=function(e,t,n){l(e,t,n,!1)};n.ObserveElementsContinuous=function(e,t,n){l(e,t,n,!0)};var f=function(){i.forEach((function(e){e.disconnect()})),i=[]};n.KillAllObservers=f;var m=function(){f(),document.querySelectorAll("[".concat(r.ObserverSettings.observableAttrName,"]")).forEach((function(e,t){e.classList.remove(Settings.enterIntersectionClassName);var n=e.getAttribute(r.ObserverSettings.observableAttrName);n.length>0&&e.classList.remove("aio-".concat(n))}))};n.ResetAnimateIO=m;n.DestroyAnimateIO=function(){m(),document.querySelectorAll("[".concat(r.ObserverSettings.observableAttrName,"]")).forEach((function(e,t){var n=e.attributes;Array.from(n).forEach((function(t){t.name.indexOf(r.ObserverSettings.observableAttrName)>-1&&e.removeAttribute(t.name)}))}))};n.RestartAnimateIO=function(){m(),u()}},{"./Helpers":5,"./Mutations":6,"./Settings":9}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ForceRenderLoop=n.StopRenderLoop=n.RenderLoop=n.InitRenderer=void 0;var r=e("./AnimationStateMachine"),o=e("./Settings"),a=0,i=-1,s=document.documentElement,c=0;n.InitRenderer=function(){var e=!0,t=o.AnimationSettings.fps;if(null!=t){var n=parseFloat(t);e=!isNaN(n)}e?function e(){l(),setTimeout((function(){c=requestAnimationFrame(e)}),1e3/t)}():function e(){l(),c=requestAnimationFrame(e)}()};var u=!1,l=function(){0!=r.StateMachine.activeCount&&(((a=(window.pageYOffset||s.scrollTop)-(s.clientTop||0))!=i||u)&&(i=a,document.body.setAttribute("data-scroll-top",a),u=!1,r.StateMachine.elements.filter((function(e){return e.ratio>0})).forEach((function(e){var t=e.keyframes,n=e.domElement,r=n.offsetTop;"relative"==o.AnimationSettings.mode&&t.forEach((function(e,t){var o=r+e.offset;e.absOffset=o,n.setAttribute("data-kf-".concat(t),o)}));for(var i=function(e){var r=t[e],o=t[e+1],i=r.absOffset,s=o.absOffset,c=a<i;if(c||a>s){var u=c?r:o;return Object.keys(u.props).forEach((function(e,t){var r=u.props[e],o=m(r.value);v(n,e,o)})),{v:void 0}}var l=(a-i)/(s-i);Object.keys(r.props).forEach((function(e){var t=f(r.props[e].value,o.props[e].value,l),a=m(t);v(n,e,a)}))},s=0;s<t.length-1;s++){var c=i(s);if("object"===_typeof(c))return c.v}}))))};n.RenderLoop=l;var f=function(e,t,n){var r,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var a=[e[0]];for(r=1;r<o;r++)a[r]=e[r]+(t[r]-e[r])*n;return a},m=function(e){var t=1;return e[0].replace(/\{\?\}/g,(function(){return e[t++]}))},v=function(e,t,n){var r=e.style,o=t.match(/-./g);if(null!=o){var a=o[0].toUpperCase();r[t.replace(o[0],a).replace("-","")]=n}else r[t]=n};n.StopRenderLoop=function(){cancelAnimationFrame(c)};n.ForceRenderLoop=function(){u=!0}},{"./AnimationStateMachine":3,"./Settings":9}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OverrideDefaultAnimationSettings=n.AnimationSettings=n.OverrideDefaultObserverSettings=n.ObserverSettings=void 0;var r={delay:0,observableAttrName:"data-aiobserve",enterIntersectionClassName:"aio-enter",exitIntersectionClassName:"aio-exit",repeat:!1,trackMutations:!0,mutationWatchDelay:0,root:null,rootMargin:"0px 0px 0px 0px",threshold:0},o=null;n.ObserverSettings=o;n.OverrideDefaultObserverSettings=function(e){return n.ObserverSettings=o=_objectSpread(_objectSpread({},r),e),o};var a={mode:"relative",fps:null,activeRange:"(min-width: 1025px)",trackMutations:!0,mutationWatchDelay:0,gridHelper:!1},i=null;n.AnimationSettings=i;n.OverrideDefaultAnimationSettings=function(e){return n.AnimationSettings=i=_objectSpread(_objectSpread({},a),e),i}},{}]},{},[1]);