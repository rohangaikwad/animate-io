"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e,t){function r(e){if(1/e==-1/0&&(e=0),e>Math.pow(2,32)-1)throw new RangeError("Invalid array length");var t=[];return t.length=e,t}function n(e,t){var r=arguments.length>2?arguments[2]:[];if(!1===s(e))throw new TypeError(Object.prototype.toString.call(e)+"is not a function.");return e.apply(t,r)}function o(e,t,r){var n={value:r,writable:!0,enumerable:!0,configurable:!0};try{return Object.defineProperty(e,t,n),!0}catch(e){return!1}}function i(e,t,r){var n=o(e,t,r);if(!n)throw new TypeError("Cannot assign value `"+Object.prototype.toString.call(r)+"` to property `"+Object.prototype.toString.call(t)+"` on object `"+Object.prototype.toString.call(e)+"`");return n}function a(e,t,r){var n={value:r,writable:!0,enumerable:!1,configurable:!0};Object.defineProperty(e,t,n)}function c(e,t){return e[t]}function s(e){return"function"==typeof e}function l(e){var t=Number(e);return isNaN(t)?0:1/t==1/0||1/t==-1/0||t===1/0||t===-1/0?t:(t<0?-1:1)*Math.floor(Math.abs(t))}function u(e){var t=l(e);return t<=0?0:Math.min(t,Math.pow(2,53)-1)}function f(e){if(null==e)throw TypeError();return Object(e)}function p(e,t){return f(e)[t]}function v(e,t){var r=p(e,t);if(null!=r){if(!1===s(r))throw new TypeError("Method not callable: "+t);return r}}function b(t){switch(_typeof2(t)){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";default:return null===t?"null":"Symbol"in e&&(t instanceof e.Symbol||t.constructor===e.Symbol)?"symbol":"object"}}function h(e,t){if("boolean"!==b(t))throw new Error;var r={};return o(r,"value",e),o(r,"done",t),r}function d(e,t){var r=c(e,"prototype");return"object"!==b(r)&&(r=t),r}function y(e,t){var r=arguments[2]||{},n=d(e,t),o=Object.create(n);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&Object.defineProperty(o,i,{configurable:!0,enumerable:!1,writable:!0,value:r[i]});return o}function m(e){return"object"===b(e)&&("function"==typeof e&&!!e.prototype)}function g(e){var t=arguments.length>2?arguments[2]:e,r=arguments.length>1?arguments[1]:[];if(!m(e))throw new TypeError("F must be a constructor.");if(!m(t))throw new TypeError("newTarget must be a constructor.");if(t===e)return new(Function.prototype.bind.apply(e,[null].concat(r)));var o=y(t,Object.prototype);return n(e,o,r)}function w(e,t){if("object"!==b(e["[[Iterator]]"]))throw new Error(Object.prototype.toString.call(e["[[Iterator]]"])+"is not an Object.");var r=e["[[Iterator]]"],o=v(r,"return");if(void 0===o)return t;try{var i=n(o,r)}catch(e){var a=e}if(t)return t;if(a)throw a;if("object"!==b(i))throw new TypeError("Iterator's return method returned a non-object.");return t}function O(e){if("object"!==b(e))throw new Error(Object.prototype.toString.call(e)+"is not an Object.");return t=c(e,"done"),Boolean(t);var t}function _(e){var t=function(e){if(arguments.length<2)var t=n(e["[[NextMethod]]"],e["[[Iterator]]"]);else t=n(e["[[NextMethod]]"],e["[[Iterator]]"],[arguments[1]]);if("object"!==b(t))throw new TypeError("bad iterator");return t}(e);return!0!==O(t)&&t}function S(e){if("object"!==b(e))throw new Error(Object.prototype.toString.call(e)+"is not an Object.");return c(e,"value")}function E(e,t){if("string"===t)var r=["toString","valueOf"];else r=["valueOf","toString"];for(var o=0;o<r.length;++o){var i=c(e,r[o]);if(s(i)){var a=n(i,e);if("object"!==b(a))return a}}throw new TypeError("Cannot convert to primitive.")}function j(e,t){return b(e)===b(t)&&("number"===b(e)?!(!isNaN(e)||!isNaN(t))||(1/e==1/0&&1/t==-1/0||(1/e==-1/0&&1/t==1/0||e===t)):function(e,t){return e===t}(e,t))}function M(t){var r=arguments.length>1?arguments[1]:void 0;if("object"===b(t)){if(arguments.length<2)var o="default";else r===String?o="string":r===Number&&(o="number");var i="function"==typeof e.Symbol&&"symbol"===_typeof2(e.Symbol.toPrimitive)?v(t,e.Symbol.toPrimitive):void 0;if(void 0!==i){var a=n(i,t,[o]);if("object"!==b(a))return a;throw new TypeError("Cannot convert exotic object to primitive.")}return"default"===o&&(o="number"),E(t,o)}return t}function A(e){switch(b(e)){case"symbol":throw new TypeError("Cannot convert a Symbol value to a string");case"object":return A(M(e,String));default:return String(e)}}var I,T,P,R,N,k,x,L,C,D,F,z,B,H,$;function q(e){var t=arguments.length>1?arguments[1]:v(e,Symbol.iterator),r=n(t,e);if("object"!==b(r))throw new TypeError("bad iterator");var o=p(r,"next"),i=Object.create(null);return i["[[Iterator]]"]=r,i["[[NextMethod]]"]=o,i["[[Done]]"]=!1,i}a(Array.prototype,"includes",(function(e){var t=f(this),r=u(c(t,"length"));if(0===r)return!1;var n=l(arguments[1]);if(n>=0)var o=n;else(o=r+n)<0&&(o=0);for(;o<r;){var i=c(t,A(o));if(j(e,i))return!0;o+=1}return!1})),function(){var e={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var t=window.Event&&window.Event.prototype||null;r.NONE=0,r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,window.Event=Window.prototype.Event=r,t&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:t}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var t=this,r=arguments[0],n=arguments[1];if(t===window&&r in e)throw new Error("In IE8 the event: "+r+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");t._events||(t._events={}),t._events[r]||(t._events[r]=function(e){var r,n=t._events[e.type].list,o=n.slice(),i=-1,a=o.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=t,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||t,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++i<a&&!e.cancelImmediate;)i in o&&(r=o[i],n.includes(r)&&"function"==typeof r&&r.call(t,e))},t._events[r].list=[],t.attachEvent&&t.attachEvent("on"+r,t._events[r])),t._events[r].list.push(n)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=this,r=arguments[0],n=arguments[1];t._events&&t._events[r]&&t._events[r].list&&-1!==(e=t._events[r].list.indexOf(n))&&(t._events[r].list.splice(e,1),t._events[r].list.length||(t.detachEvent&&t.detachEvent("on"+r,t._events[r]),delete t._events[r]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,r=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var n=function e(n){n.cancelBubble=!0,(t||window).detachEvent("on"+r,e)};this.attachEvent("on"+r,n)}this.fireEvent("on"+r,e)}catch(n){e.target=t;do{e.currentTarget=t,"_events"in t&&"function"==typeof t._events[r]&&t._events[r].call(t,e),"function"==typeof t["on"+r]&&t["on"+r].call(t,e),t=9===t.nodeType?t.parentWindow:t.parentNode}while(t&&!e.cancelBubble)}return!0},document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&document.dispatchEvent(new r("DOMContentLoaded",{bubbles:!0}))})))}function r(e,t){if(!e)throw new Error("Not enough arguments");var r;if("createEvent"in document){r=document.createEvent("Event");var n=!(!t||void 0===t.bubbles)&&t.bubbles,o=!(!t||void 0===t.cancelable)&&t.cancelable;return r.initEvent(e,n,o),r}return(r=document.createEventObject()).type=e,r.bubbles=!(!t||void 0===t.bubbles)&&t.bubbles,r.cancelable=!(!t||void 0===t.cancelable)&&t.cancelable,r}}(),function(e,t){var r=[];function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0};try{this.isIntersecting=!!e.intersectionRect}catch(e){}var t=this.boundingClientRect,r=t.width*t.height,n=this.intersectionRect,o=n.width*n.height;this.intersectionRatio=r?Number((o/r).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var r,n,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){r(),o=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function i(e,t,r,n){"function"==typeof e.addEventListener?e.addEventListener(t,r,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,r)}function a(e,t,r,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,r,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,r)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(e,t){for(var r=t;r;){if(r==e)return!0;r=l(r)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,r){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==r[t-1]}))},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(e,"resize",this._checkForIntersections,!0),a(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),r=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var i=o.element,a=c(i),s=this._rootContainsTarget(i),l=o.entry,u=t&&s&&this._computeTargetAndRootIntersection(i,r),f=o.entry=new n({time:e.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:r,intersectionRect:u});l?t&&s?this._hasCrossedThreshold(l,f)&&this._queuedEntries.push(f):l&&l.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(r,n){if("none"!=e.getComputedStyle(r).display){for(var o,i,a,s,u,f,p,v,b=c(r),h=l(r),d=!1;!d;){var y=null,m=1==h.nodeType?e.getComputedStyle(h):{};if("none"==m.display)return;if(h==this.root||h==t?(d=!0,y=n):h!=t.body&&h!=t.documentElement&&"visible"!=m.overflow&&(y=c(h)),y&&(o=y,i=b,a=void 0,s=void 0,u=void 0,f=void 0,p=void 0,v=void 0,a=Math.max(o.top,i.top),s=Math.min(o.bottom,i.bottom),u=Math.max(o.left,i.left),f=Math.min(o.right,i.right),v=s-a,!(b=(p=f-u)>=0&&v>=0&&{top:a,bottom:s,left:u,right:f,width:p,height:v})))break;h=l(h)}return b}},o.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var r=t.documentElement,n=t.body;e={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,r){return"px"==t.unit?t.value:t.value*(r%2?e.width:e.height)/100})),r={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},o.prototype._hasCrossedThreshold=function(e,t){var r=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(r!==n)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==r||i==n||i<r!=i<n)return!0}},o.prototype._rootIsInDom=function(){return!this.root||s(t,this.root)},o.prototype._rootContainsTarget=function(e){return s(this.root||t,e)},o.prototype._registerInstance=function(){r.indexOf(this)<0&&r.push(this)},o.prototype._unregisterInstance=function(){var e=r.indexOf(this);-1!=e&&r.splice(e,1)},e.IntersectionObserver=o,e.IntersectionObserverEntry=n}(window,document),I=e,a(Number,"isNaN",(function(e){return"number"===b(e)&&!!I.isNaN(e)})),T=Object.getOwnPropertyDescriptor,P=function(){try{return 1===Object.defineProperty(document.createElement("div"),"one",{get:function(){return 1}}).one}catch(e){return!1}},R={}.toString,N="".split,a(Object,"getOwnPropertyDescriptor",(function(e,t){var r=f(e);r=("string"===b(r)||r instanceof String)&&"[object String]"==R.call(e)?N.call(e,""):Object(e);var n,o,i=function(e){var t=M(e,String);return"symbol"===b(t)?t:A(t)}(t);if(P)try{return T(r,i)}catch(e){}if(n=r,o=i,Object.prototype.hasOwnProperty.call(n,o))return{enumerable:!0,configurable:!0,writable:!0,value:r[i]}})),k=Object.isExtensible,a(Object,"isExtensible",(function(e){return"object"===b(e)&&(!k||k(e))})),a(Object,"keys",(x=Object.prototype.hasOwnProperty,L=Object.prototype.toString,C=Object.prototype.propertyIsEnumerable,D=!C.call({toString:null},"toString"),F=C.call((function(){}),"prototype"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],B=function(e){var t=e.constructor;return t&&t.prototype===e},H={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},$=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!H["$"+e]&&x.call(window,e)&&null!==window[e]&&"object"===_typeof2(window[e]))try{B(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),function(e){var t,r,n,o="[object Function]"===L.call(e),i=(t=e,r=L.call(t),(n="[object Arguments]"===r)||(n="[object Array]"!==r&&null!==t&&"object"===_typeof2(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===L.call(t.callee)),n),a="[object String]"===L.call(e),c=[];if(null==e)throw new TypeError("Cannot convert undefined or null to object");var s=F&&o;if(a&&e.length>0&&!x.call(e,0))for(var l=0;l<e.length;++l)c.push(String(l));if(i&&e.length>0)for(var u=0;u<e.length;++u)c.push(String(u));else for(var f in e)s&&"prototype"===f||!x.call(e,f)||c.push(String(f));if(D)for(var p=function(e){if("undefined"==typeof window||!$)return B(e);try{return B(e)}catch(e){return!1}}(e),v=0;v<z.length;++v)p&&"constructor"===z[v]||!x.call(e,z[v])||c.push(z[v]);return c})),function(){var t={}.toString,r="".split,n=[].concat,o=Object.prototype.hasOwnProperty,i=Object.getOwnPropertyNames||Object.keys,c="object"===_typeof2(e)?i(e):[];a(Object,"getOwnPropertyNames",(function(e){var a=f(e);if("[object Window]"===t.call(a))try{return i(a)}catch(e){return n.call([],c)}a="[object String]"==t.call(a)?r.call(a,""):Object(a);for(var s=i(a),l=["length","prototype"],u=0;u<l.length;u++){var p=l[u];o.call(a,p)&&!s.includes(p)&&s.push(p)}if(s.includes("__proto__")){var v=s.indexOf("__proto__");s.splice(v,1)}return s}))}(),function(t,r,n){var o,i=0,a=""+Math.random(),c="__symbol:",s=c.length,l="__symbol@@"+a,u="defineProperty",f="defineProperties",p="getOwnPropertyNames",v="getOwnPropertyDescriptor",b="propertyIsEnumerable",h=t.prototype,d=h.hasOwnProperty,y=h[b],m=h.toString,g=Array.prototype.concat,w=t.getOwnPropertyNames?t.getOwnPropertyNames(e):[],O=t[p],_=function(e){if("[object Window]"===m.call(e))try{return O(e)}catch(e){return g.call([],w)}return O(e)},S=t[v],E=t.create,j=t.keys,M=t.freeze||t,A=t[u],I=t[f],T=S(t,p),P=function(e,t,r){if(!d.call(e,l))try{A(e,l,{enumerable:!1,configurable:!1,writable:!1,value:{}})}catch(t){e[l]={}}e[l]["@@"+t]=r},R=function(e,t){var r=E(e);return _(t).forEach((function(e){L.call(t,e)&&H(r,e,t[e])})),r},N=function(){},k=function(e){return e!=l&&!d.call(F,e)},x=function(e){return e!=l&&d.call(F,e)},L=function(e){var t=""+e;return x(t)?d.call(this,t)&&this[l]["@@"+t]:y.call(this,e)},C=function(e){var r={enumerable:!1,configurable:!0,get:N,set:function(t){o(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),P(this,e,!0)}};try{A(h,e,r)}catch(t){h[e]=r.value}return M(F[e]=A(t(e),"constructor",z))},D=function e(){var t=arguments[0];if(this instanceof e)throw new TypeError("Symbol is not a constructor");return C(c.concat(t||"",a,++i))},F=E(null),z={value:D},B=function(e){return F[e]},H=function(e,t,r){var n=""+t;return x(n)?(o(e,n,r.enumerable?function(e){var t=E(e);return t.enumerable=!1,t}(r):r),P(e,n,!!r.enumerable)):A(e,t,r),e},$=function(e){return _(e).filter(e===h?(t=e,function(e){return d.call(t,l)&&d.call(t[l],"@@"+e)}):x).map(B);var t};T.value=H,A(t,u,T),T.value=$,A(t,"getOwnPropertySymbols",T),T.value=function(e){return _(e).filter(k)},A(t,p,T),T.value=function(e,t){var r=$(t);return r.length?j(t).concat(r).forEach((function(r){L.call(t,r)&&H(e,r,t[r])})):I(e,t),e},A(t,f,T),T.value=L,A(h,b,T),T.value=D,A(n,"Symbol",T),T.value=function(e){var t=c.concat(c,e,a);return t in h?F[t]:C(t)},A(D,"for",T),T.value=function(e){if(k(e))throw new TypeError(e+" is not a symbol");return d.call(F,e)?e.slice(2*s,-a.length):void 0},A(D,"keyFor",T),T.value=function(e,t){var r=S(e,t);return r&&x(t)&&(r.enumerable=L.call(e,t)),r},A(t,v,T),T.value=function(e,t){return 1===arguments.length||void 0===t?E(e):R(e,t)},A(t,"create",T);var q=null===function(){return this}.call(null);T.value=q?function(){var e=m.call(this);return"[object String]"===e&&x(this)?"[object Symbol]":e}:function(){if(this===window)return"[object Null]";var e=m.call(this);return"[object String]"===e&&x(this)?"[object Symbol]":e},A(h,"toString",T),o=function(e,t,r){var n=S(h,t);delete h[t],A(e,t,r),e!==h&&A(h,t,n)}}(Object,0,this),Object.defineProperty(e.Symbol,"iterator",{value:e.Symbol("iterator")}),Object.defineProperty(Symbol,"species",{value:Symbol("species")}),function(e){var t=function(){try{var e={};return Object.defineProperty(e,"t",{configurable:!0,enumerable:!1,get:function(){return!0},set:void 0}),!!e.t}catch(e){return!1}}(),r=0,n=Symbol("meta_"+(1e8*Math.random()+"").replace(".","")),o=function(e){if("object"===_typeof2(e)?null!==e:"function"==typeof e){if(!Object.isExtensible(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,n)){var t=_typeof2(e)+"-"+ ++r;Object.defineProperty(e,n,{configurable:!1,enumerable:!1,writable:!1,value:t})}return e[n]}return""+e},i=function(e,t){var r=o(t);if(!1===r)return c(e,t);var n=e._table[r];return void 0!==n&&n},c=function(e,t){for(var r=0;r<e._keys.length;r++){var n=e._keys[r];if(n!==u&&j(n,t))return r}return!1},l=function(e,t,r){var n=o(t);return!1!==n&&(!1===r?delete e._table[n]:e._table[n]=r,!0)},u=Symbol("undef"),f=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var r=y(this,e.prototype,{_table:{},_keys:[],_values:[],_size:0,_es6Map:!0});t||Object.defineProperty(r,"size",{configurable:!0,enumerable:!1,writable:!0,value:0});var n=arguments.length>0?arguments[0]:void 0;if(null==n)return r;var o=r.set;if(!s(o))throw new TypeError("Map.prototype.set is not a function");try{for(var i=q(n);;){var a=_(i);if(!1===a)return r;var c=S(a);if("object"!==b(c))try{throw new TypeError("Iterator value "+c+" is not an entry object")}catch(e){return w(i,e)}try{var l=c[0],u=c[1];o.call(r,l,u)}catch(e){return w(i,e)}}}catch(e){if(Array.isArray(n)||"[object Arguments]"===Object.prototype.toString.call(n)||n.callee){var f,p=n.length;for(f=0;f<p;f++)o.call(r,n[f][0],n[f][1])}}return r};function p(e,t){if("object"!==b(e))throw new TypeError("createMapIterator called on incompatible receiver "+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError("createMapIterator called on incompatible receiver "+Object.prototype.toString.call(e));var r=Object.create(v);return Object.defineProperty(r,"[[Map]]",{configurable:!0,enumerable:!1,writable:!0,value:e}),Object.defineProperty(r,"[[MapNextIndex]]",{configurable:!0,enumerable:!1,writable:!0,value:0}),Object.defineProperty(r,"[[MapIterationKind]]",{configurable:!0,enumerable:!1,writable:!0,value:t}),r}Object.defineProperty(f,"prototype",{configurable:!1,enumerable:!1,writable:!1,value:{}}),t?Object.defineProperty(f,Symbol.species,{configurable:!0,enumerable:!1,get:function(){return this},set:void 0}):a(f,Symbol.species,f),a(f.prototype,"clear",(function(){var e=this;if("object"!==b(e))throw new TypeError("Method Map.prototype.clear called on incompatible receiver "+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError("Method Map.prototype.clear called on incompatible receiver "+Object.prototype.toString.call(e));for(var r=e._keys,n=0;n<r.length;n++)e._keys[n]=u,e._values[n]=u;this._size=0,t||(this.size=this._size),this._table={}})),a(f.prototype,"constructor",f),a(f.prototype,"delete",(function(e){var r=this;if("object"!==b(r))throw new TypeError("Method Map.prototype.clear called on incompatible receiver "+Object.prototype.toString.call(r));if(!0!==r._es6Map)throw new TypeError("Method Map.prototype.clear called on incompatible receiver "+Object.prototype.toString.call(r));var n=i(r,e);if(!1!==n){var o=r._keys[n];if(o!==u&&j(o,e))return this._keys[n]=u,this._values[n]=u,this._size=--this._size,t||(this.size=this._size),l(this,e,!1),!0}return!1})),a(f.prototype,"entries",(function(){return p(this,"key+value")})),a(f.prototype,"forEach",(function(e){var t=this;if("object"!==b(t))throw new TypeError("Method Map.prototype.forEach called on incompatible receiver "+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError("Method Map.prototype.forEach called on incompatible receiver "+Object.prototype.toString.call(t));if(!s(e))throw new TypeError(Object.prototype.toString.call(e)+" is not a function.");if(arguments[1])var r=arguments[1];for(var n=t._keys,o=0;o<n.length;o++)t._keys[o]!==u&&t._values[o]!==u&&e.call(r,t._values[o],t._keys[o],t)})),a(f.prototype,"get",(function(e){var t=this;if("object"!==b(t))throw new TypeError("Method Map.prototype.get called on incompatible receiver "+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError("Method Map.prototype.get called on incompatible receiver "+Object.prototype.toString.call(t));var r=i(t,e);if(!1!==r){var n=t._keys[r];if(n!==u&&j(n,e))return t._values[r]}})),a(f.prototype,"has",(function(e){var t=this;if("object"!==_typeof2(t))throw new TypeError("Method Map.prototype.has called on incompatible receiver "+Object.prototype.toString.call(t));if(!0!==t._es6Map)throw new TypeError("Method Map.prototype.has called on incompatible receiver "+Object.prototype.toString.call(t));var r=i(t,e);if(!1!==r){var n=t._keys[r];if(n!==u&&j(n,e))return!0}return!1})),a(f.prototype,"keys",(function(){return p(this,"key")})),a(f.prototype,"set",(function(e,r){var n=this;if("object"!==b(n))throw new TypeError("Method Map.prototype.set called on incompatible receiver "+Object.prototype.toString.call(n));if(!0!==n._es6Map)throw new TypeError("Method Map.prototype.set called on incompatible receiver "+Object.prototype.toString.call(n));var o=i(n,e);if(!1!==o)n._values[o]=r;else{-0===e&&(e=0);var a={"[[Key]]":e,"[[Value]]":r};n._keys.push(a["[[Key]]"]),n._values.push(a["[[Value]]"]),l(n,e,n._keys.length-1),++n._size,t||(n.size=n._size)}return n})),t&&Object.defineProperty(f.prototype,"size",{configurable:!0,enumerable:!1,get:function(){var e=this;if("object"!==b(e))throw new TypeError("Method Map.prototype.size called on incompatible receiver "+Object.prototype.toString.call(e));if(!0!==e._es6Map)throw new TypeError("Method Map.prototype.size called on incompatible receiver "+Object.prototype.toString.call(e));return this._size},set:void 0}),a(f.prototype,"values",(function(){return p(this,"value")})),a(f.prototype,Symbol.iterator,f.prototype.entries),"name"in f||Object.defineProperty(f,"name",{configurable:!0,enumerable:!1,writable:!1,value:"Map"});var v={};Object.defineProperty(v,"isMapIterator",{configurable:!1,enumerable:!1,writable:!1,value:!0}),a(v,"next",(function(){var e=this;if("object"!==b(e))throw new TypeError("Method %MapIteratorPrototype%.next called on incompatible receiver "+Object.prototype.toString.call(e));if(!e.isMapIterator)throw new TypeError("Method %MapIteratorPrototype%.next called on incompatible receiver "+Object.prototype.toString.call(e));var t=e["[[Map]]"],r=e["[[MapNextIndex]]"],n=e["[[MapIterationKind]]"];if(void 0===t)return h(void 0,!0);if(!t._es6Map)throw new Error(Object.prototype.toString.call(t)+" has a [[MapData]] internal slot.");for(var o=t._keys.length;r<o;){var i=Object.create(null);if(i["[[Key]]"]=t._keys[r],i["[[Value]]"]=t._values[r],r+=1,e["[[MapNextIndex]]"]=r,i["[[Key]]"]!==u){if("key"===n)var a=i["[[Key]]"];else if("value"===n)a=i["[[Value]]"];else{if("key+value"!==n)throw new Error;a=[i["[[Key]]"],i["[[Value]]"]]}return h(a,!1)}}return e["[[Map]]"]=void 0,h(void 0,!0)})),a(v,Symbol.iterator,(function(){return this}));try{a(e,"Map",f)}catch(t){e.Map=f}}(e),function(e){var t=function(){try{var e={};return Object.defineProperty(e,"t",{configurable:!0,enumerable:!1,get:function(){return!0},set:void 0}),!!e.t}catch(e){return!1}}(),r=Symbol("undef"),n=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var r=y(this,e.prototype,{_values:[],_size:0,_es6Set:!0});t||Object.defineProperty(r,"size",{configurable:!0,enumerable:!1,writable:!0,value:0});var n=arguments.length>0?arguments[0]:void 0;if(null==n)return r;var o=r.add;if(!s(o))throw new TypeError("Set.prototype.add is not a function");try{for(var i=q(n);;){var a=_(i);if(!1===a)return r;var c=S(a);try{o.call(r,c)}catch(e){return w(i,e)}}}catch(e){if(!Array.isArray(n)&&"[object Arguments]"!==Object.prototype.toString.call(n)&&!n.callee)throw e;var l,u=n.length;for(l=0;l<u;l++)o.call(r,n[l])}return r};Object.defineProperty(n,"prototype",{configurable:!1,enumerable:!1,writable:!1,value:{}}),t?Object.defineProperty(n,Symbol.species,{configurable:!0,enumerable:!1,get:function(){return this},set:void 0}):a(n,Symbol.species,n),a(n.prototype,"add",(function(e){var n=this;if("object"!==_typeof2(n))throw new TypeError("Method Set.prototype.add called on incompatible receiver "+Object.prototype.toString.call(n));if(!0!==n._es6Set)throw new TypeError("Method Set.prototype.add called on incompatible receiver "+Object.prototype.toString.call(n));for(var o=n._values,i=0;i<o.length;i++){var a=o[i];if(a!==r&&j(a,e))return n}return 0===e&&1/e==-1/0&&(e=0),n._values.push(e),this._size=++this._size,t||(this.size=this._size),n})),a(n.prototype,"clear",(function(){var e=this;if("object"!==_typeof2(e))throw new TypeError("Method Set.prototype.clear called on incompatible receiver "+Object.prototype.toString.call(e));if(!0!==e._es6Set)throw new TypeError("Method Set.prototype.clear called on incompatible receiver "+Object.prototype.toString.call(e));for(var n=e._values,o=0;o<n.length;o++)n[o]=r;this._size=0,t||(this.size=this._size)})),a(n.prototype,"constructor",n),a(n.prototype,"delete",(function(e){var n=this;if("object"!==_typeof2(n))throw new TypeError("Method Set.prototype.delete called on incompatible receiver "+Object.prototype.toString.call(n));if(!0!==n._es6Set)throw new TypeError("Method Set.prototype.delete called on incompatible receiver "+Object.prototype.toString.call(n));for(var o=n._values,i=0;i<o.length;i++){var a=o[i];if(a!==r&&j(a,e))return o[i]=r,this._size=--this._size,t||(this.size=this._size),!0}return!1})),a(n.prototype,"entries",(function(){return i(this,"key+value")})),a(n.prototype,"forEach",(function(e){var t=this;if("object"!==_typeof2(t))throw new TypeError("Method Set.prototype.forEach called on incompatible receiver "+Object.prototype.toString.call(t));if(!0!==t._es6Set)throw new TypeError("Method Set.prototype.forEach called on incompatible receiver "+Object.prototype.toString.call(t));if(!s(e))throw new TypeError(Object.prototype.toString.call(e)+" is not a function.");if(arguments[1])var n=arguments[1];for(var o=t._values,i=0;i<o.length;i++){var a=o[i];a!==r&&e.call(n,a,a,t)}})),a(n.prototype,"has",(function(e){var t=this;if("object"!==_typeof2(t))throw new TypeError("Method Set.prototype.forEach called on incompatible receiver "+Object.prototype.toString.call(t));if(!0!==t._es6Set)throw new TypeError("Method Set.prototype.forEach called on incompatible receiver "+Object.prototype.toString.call(t));for(var n=t._values,o=0;o<n.length;o++){var i=n[o];if(i!==r&&j(i,e))return!0}return!1}));var o=function(){return i(this,"value")};function i(e,t){if("object"!==_typeof2(e))throw new TypeError("createSetIterator called on incompatible receiver "+Object.prototype.toString.call(e));if(!0!==e._es6Set)throw new TypeError("createSetIterator called on incompatible receiver "+Object.prototype.toString.call(e));var r=Object.create(c);return Object.defineProperty(r,"[[IteratedSet]]",{configurable:!0,enumerable:!1,writable:!0,value:e}),Object.defineProperty(r,"[[SetNextIndex]]",{configurable:!0,enumerable:!1,writable:!0,value:0}),Object.defineProperty(r,"[[SetIterationKind]]",{configurable:!0,enumerable:!1,writable:!0,value:t}),r}a(n.prototype,"values",o),a(n.prototype,"keys",o),t&&Object.defineProperty(n.prototype,"size",{configurable:!0,enumerable:!1,get:function(){var e=this;if("object"!==_typeof2(e))throw new TypeError("Method Set.prototype.size called on incompatible receiver "+Object.prototype.toString.call(e));if(!0!==e._es6Set)throw new TypeError("Method Set.prototype.size called on incompatible receiver "+Object.prototype.toString.call(e));for(var t=e._values,n=0,o=0;o<t.length;o++){t[o]!==r&&(n+=1)}return n},set:void 0}),a(n.prototype,Symbol.iterator,o),"name"in n||Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,writable:!1,value:"Set"});var c={};Object.defineProperty(c,"isSetIterator",{configurable:!1,enumerable:!1,writable:!1,value:!0}),a(c,"next",(function(){var e=this;if("object"!==_typeof2(e))throw new TypeError("Method %SetIteratorPrototype%.next called on incompatible receiver "+Object.prototype.toString.call(e));if(!e.isSetIterator)throw new TypeError("Method %SetIteratorPrototype%.next called on incompatible receiver "+Object.prototype.toString.call(e));var t=e["[[IteratedSet]]"],n=e["[[SetNextIndex]]"],o=e["[[SetIterationKind]]"];if(void 0===t)return h(void 0,!0);if(!t._es6Set)throw new Error(Object.prototype.toString.call(t)+" does not have [[SetData]] internal slot.");for(var i=t._values,a=i.length;n<a;){var c=i[n];if(n+=1,e["[[SetNextIndex]]"]=n,c!==r)return h("key+value"===o?[c,c]:c,!1)}return e["[[IteratedSet]]"]=void 0,h(void 0,!0)})),a(c,Symbol.iterator,(function(){return this}));try{a(e,"Set",n)}catch(t){e.Set=n}}(e),function(){var e=Object.prototype.toString,t=String.prototype.match;function o(t){return"string"==typeof t||"object"===_typeof2(t)&&"[object String]"===e.call(t)}a(Array,"from",(function(e){var a=this,l=arguments.length>1?arguments[1]:void 0;if(void 0===l)var p=!1;else{if(!1===s(l))throw new TypeError(Object.prototype.toString.call(l)+" is not a function.");var b=arguments.length>2?arguments[2]:void 0;if(void 0!==b)var h=b;else h=void 0;p=!0}var d=v(e,Symbol.iterator);if(void 0!==d){if(m(a))var y=g(a);else y=r(0);for(var O=q(e,d),E=0;;){if(E>=Math.pow(2,53)-1){var j=new TypeError("Iteration count can not be greater than or equal 9007199254740991.");return w(O,j)}var M=A(E),I=_(O);if(!1===I)return y.length=E,y;var T=S(I);if(p)try{var P=n(l,h,[T,E])}catch(e){return w(O,e)}else P=T;try{i(y,M,P)}catch(e){return w(O,e)}E+=1}}if(o(e))var R=t.call(e,/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[];else R=f(e);var N=u(c(R,"length"));for(y=m(a)?g(a,[N]):r(N),E=0;E<N;){var k=c(R,M=A(E));i(y,M,P=!0===p?n(l,h,[k,E]):k),E+=1}return y.length=N,y}))}()}("object"===("undefined"==typeof window?"undefined":_typeof2(window))&&window||"object"===("undefined"==typeof self?"undefined":_typeof2(self))&&self||"object"===("undefined"==typeof global?"undefined":_typeof2(global))&&global||{}),function e(t,r,n){function o(a,c){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){return o(t[a][1][e]||e)}),u,u.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){var n=e("./modules/Settings"),o=e("./modules/Observer"),i=e("./modules/Animations");!function(e){e.AnimateIO={InitObservers:function(e){(0,n.OverrideDefaultObserverSettings)(e),(0,o.InitAIObservers)()},observe:o.ObserveElementsContinuous,observeOnce:o.ObserveElementsOnce,stop:o.KillAllObservers,reset:o.RestartAnimateIO,restart:o.RestartAnimateIO,destroy:o.DestroyAnimateIO,Animate:function(e){(0,n.OverrideDefaultAnimationSettings)(e),(0,i.InitAnimations)()},AnimateEnd:i.KillAnimateInstance,AnimateRestart:i.RestartAnimateInstance}}(window)},{"./modules/Animations":3,"./modules/Observer":7,"./modules/Settings":9}],2:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ResetStateMachine=r.StopAnimationObserver=r.ObserveStateMachineObjects=r.InitiateAnimationObserver=r.UpdateStateMachine=r.InitAnimationStateMachine=r.StateMachine=void 0;var n=e("./Constants"),o=e("./Render"),i=e("./Settings"),a={activeCount:0,elements:[],singleFrameElements:[]};r.StateMachine=a;r.InitAnimationStateMachine=function(){l((function(e){console.log("".concat(e," animateable elements found"))}))};r.UpdateStateMachine=function(){l((function(e){console.log("".concat(e," new animateable elements found")),v(),setTimeout((function(){return(0,o.ForceRenderLoop)()}),100)}))};var c={id:"",domElement:null,ratio:0,repeat:!0,keyframes:[],observerAttached:!1},s=0,l=function(e){var t=_toConsumableArray(document.getElementsByTagName("*")).filter((function(e){return Object.entries(e.attributes).map((function(e){return e[1]})).some((function(e){return/^data-aio--?[0-9]+/g.test(e.name)}))})).filter((function(e){return!e.hasAttribute(n.SMO_ID_ATTR_NAME)}));t.forEach((function(e,t){var r=e.attributes,o=Array.from(r).filter((function(e){return/^data-aio--?[0-9]+/g.test(e.name)})),i="aio-pl-".concat(++s,"-").concat(t);e.setAttribute(n.SMO_ID_ATTR_NAME,i);var l=_objectSpread({},c);l.id=i,l.repeat=e.hasAttribute("data-aio-repeat"),l.domElement=e,l.keyframes=u(o,e),l.observerAttached=!1,1==o.length?a.singleFrameElements.push(l):a.elements.push(l)})),e(t.length)},u=function(e,t){var r=[];e.forEach((function(e,n){var o={};e.value.trim().split(";").forEach((function(e){if(e.length>0){var t=e.split(":")[0].trim(),r=e.split(":")[1].trim(),n=[];r=r.replace(/[\-+]?[\d]*\.?[\d]+/g,(function(e){return n.push(+e),"{?}"})),n.unshift(r),o[t]={value:n}}}));var i=parseInt(e.name.replace("data-aio-",""));r.push({offset:i,absOffset:i,props:o}),t.setAttribute("data-kf-".concat(n),i)})),"relative"==i.AnimationSettings.mode&&r.forEach((function(e,r){var n=t.offsetTop+e.offset-window.innerHeight;e.absOffset=n,t.setAttribute("data-kf-".concat(r),n)})),r.sort((function(e,t){return e.absOffset>t.absOffset?1:t.absOffset>e.absOffset?-1:0}));for(var n=0,o={};n<r.length;n++)f(r[n],o);for(o={},n--;n>=0;n--)f(r[n],o);return r},f=function(e,t){var r;for(r in t)Object.prototype.hasOwnProperty.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},p=null;r.InitiateAnimationObserver=function(){var e={root:document,rootMargin:"0px",threshold:0};p=new IntersectionObserver((function(e,t){e.forEach((function(e){var r=e.target,o=r.getAttribute(n.SMO_ID_ATTR_NAME),i=a.elements.filter((function(e){return e.id==o}))[0],c=!1,s=e.intersectionRatio;if(i.ratio=s,r.setAttribute("data-ratio",s),s>0&&(c=!0,a.activeCount++),0==s&&c&&(a.activeCount--,!i.repeat)){t.unobserve(r);var l=a.elements.findIndex((function(e){return e.id==o}));a.elements.splice(l,1)}}))}),e)};var v=function(){a.elements.length>0&&a.elements.filter((function(e){return!e.observerAttached})).forEach((function(e){p.observe(e.domElement),e.observerAttached=!0}))};r.ObserveStateMachineObjects=v;r.StopAnimationObserver=function(){p.disconnect()};r.ResetStateMachine=function(){[].concat(_toConsumableArray(a.elements),_toConsumableArray(a.singleFrameElements)).forEach((function(e){e.domElement.removeAttribute(n.SMO_ID_ATTR_NAME)})),a.activeCount=0,a.elements=[],a.singleFrameElements=[]}},{"./Constants":4,"./Render":8,"./Settings":9}],3:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RestartAnimateInstance=r.KillAnimateInstance=r.InitAnimations=void 0;var n=e("./AnimationStateMachine"),o=e("./Helpers"),i=e("./Mutations"),a=e("./Render"),c=e("./Settings"),s=!1,l=function(){s&&console.error("AnimateIO.Animate() already initialized. To start a new instance, please stop the current animations instance using:\nAnimateIO.StopAnimations();"),(0,o.QueryMedia)("(min-width: ".concat(c.AnimationSettings.deactivateBelow,"px)"))?((0,n.InitiateAnimationObserver)(),(0,n.InitAnimationStateMachine)(),(0,n.ObserveStateMachineObjects)(),(0,a.InitRenderer)(),c.AnimationSettings.trackMutations&&setTimeout((function(){return u()}),2e3),c.AnimationSettings.gridHelper&&setTimeout((function(){return(0,o.DrawGrid)()}),1e3),s=!0,f()):console.log("AnimateIO.Animate() can't initialize since the screen width is less than ".concat(c.AnimationSettings.deactivateBelow))};r.InitAnimations=l;var u=function(){(0,i.AddMutationListener)({name:"animations_listener",callback:function(e){(0,n.UpdateStateMachine)()}})},f=function(){(0,o.QueryMedia)("(min-width: ".concat(c.AnimationSettings.deactivateBelow,"px)"),(function(e){e.matches?s||null!=e.remove&&(e.remove(),console.log("Restarting AnimateIO.Animate as browser width is >= ".concat(c.AnimationSettings.deactivateBelow,"px")),l()):s&&(console.log("Stopping AnimateIO.Animate as browser width is < ".concat(c.AnimationSettings.deactivateBelow,"px")),p())}))},p=function(){(0,a.StopRenderLoop)(),(0,n.StopAnimationObserver)(),(0,i.ResetMutationObserver)(),(0,n.ResetStateMachine)(),s=!1};r.KillAnimateInstance=p;r.RestartAnimateInstance=function(){p(),l()}},{"./AnimationStateMachine":2,"./Helpers":5,"./Mutations":6,"./Render":8,"./Settings":9}],4:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SMO_ID_ATTR_NAME=void 0;r.SMO_ID_ATTR_NAME="data-aio-smo-id"},{}],5:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.QueryMedia=r.DrawGrid=r.AttrToNum=r.GetAttrVal=void 0;var n=function(e,t,r){var n=r;if(e.hasAttribute(t)){var o=e.getAttribute(t);null!=o&&(n=o)}return n};r.GetAttrVal=n;r.AttrToNum=function(e,t,r){var o=n(e,t,r),i=parseInt(o);return Number.isNaN(i)?r:i};r.DrawGrid=function(){var e=document.createElement("div");e.id="aio-grid-container";for(var t=document.documentElement.scrollHeight,r=0;r<t;r+=100){var n=document.createElement("div");n.className="aio-row",n.innerHTML='<div class="num">'.concat(r,'</div><div class="num">').concat(r,"</div>"),e.appendChild(n)}document.body.appendChild(e)};r.QueryMedia=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=window.matchMedia(e);if(null==t)return r.matches;t({matches:r.matches,remove:null});var n=function(e){t({matches:e,remove:function(){return r.removeEventListener("change",o)}})},o=function(e){n(e.matches)};r.addEventListener("change",o)}},{}],6:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ResetMutationObserver=r.StopMutationObserver=r.RemoveMutationListener=r.AddMutationListener=void 0;var n=null;(n=new MutationObserver((function(e){o.forEach((function(t){t.callback(e)}))}))).observe(document,{attributes:!1,childList:!0,subtree:!0,characterData:!0});var o=[];r.AddMutationListener=function(e){o.some((function(t){return t.name==e.name}))||o.push(e)};r.RemoveMutationListener=function(e){var t=o.findIndex((function(t){return t.name==e}));t>-1&&o.splice(t,1),0==o.length&&i()};var i=function(){n.disconnect()};r.StopMutationObserver=i;r.ResetMutationObserver=function(){i(),o=[]}},{}],7:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RestartAnimateIO=r.DestroyAnimateIO=r.ResetAnimateIO=r.KillAllObservers=r.ObserveElementsContinuous=r.ObserveElementsOnce=r.InitAIObservers=void 0;var n=e("./Settings"),o=e("./Helpers"),i=e("./Mutations"),a=[];r.InitAIObservers=function(){l(),n.ObserverSettings.trackMutations&&setTimeout((function(){return c()}),2e3)};var c=function(){(0,i.AddMutationListener)({name:"observer_listener",callback:function(e){setTimeout((function(){return l()}),10)}})},s=0,l=function(){var e=document.querySelectorAll("[".concat(n.ObserverSettings.observableAttrName,"]"));Array.from(e).filter((function(e){return!e.hasAttribute("data-aio-id")})).forEach((function(e,t){e.setAttribute("data-aio-id","aio_auto_".concat(++s,"_").concat(t));var r=e.hasAttribute("data-aio-repeat")||n.ObserverSettings.repeat,i=(0,o.AttrToNum)(e,"data-aio-delay",n.ObserverSettings.delay),c=(0,o.GetAttrVal)(e,"data-aio-offset-top",n.ObserverSettings.rootMargin.split(" ")[0]),l=(0,o.GetAttrVal)(e,"data-aio-offset-right",n.ObserverSettings.rootMargin.split(" ")[1]),u=(0,o.GetAttrVal)(e,"data-aio-offset-bottom",n.ObserverSettings.rootMargin.split(" ")[2]),f=(0,o.GetAttrVal)(e,"data-aio-offset-left",n.ObserverSettings.rootMargin.split(" ")[3]),p="".concat(c," ").concat(l," ").concat(u," ").concat(f);if(e.hasAttribute("data-aio-offset")){var v=e.getAttribute("data-aio-offset");null!=v&&v.length>0&&(p=v)}var b=!1,h=[],d=e.getAttribute(n.ObserverSettings.observableAttrName);d.length>0&&h.push("aio-".concat(d));var y={root:document.documentElement,rootMargin:p,threshold:n.ObserverSettings.threshold},m=new IntersectionObserver((function(t,o){t.forEach((function(t){var a=t.intersectionRatio,c=0;a>0&&(b=!0,c=setTimeout((function(){t.target.classList.remove(n.ObserverSettings.exitIntersectionClassName),t.target.classList.add(n.ObserverSettings.enterIntersectionClassName),h.forEach((function(e){t.target.classList.add(e)}))}),i)),0==a&&r&&(clearTimeout(c),t.target.classList.remove(n.ObserverSettings.enterIntersectionClassName),h.forEach((function(e){t.target.classList.remove(e)})),t.target.classList.add(n.ObserverSettings.exitIntersectionClassName)),0==a&&!r&&b&&(o.unobserve(e),o.disconnect())}))}),y);m.observe(e),a.push(m)}))},u=function(e,t,r,n){var o=_objectSpread({root:document,rootMargin:0,threshold:0},t),i=new IntersectionObserver((function(e,t){e.forEach((function(e){r(e),0!=e.intersectionRatio?(e.in&&e.in(),n||(t.unobserve(e.target),t.disconnect())):e.out&&e.out()}))}),o);"string"==typeof e&&e.trim().length>0?document.querySelectorAll(e).forEach((function(e){return i.observe(e)})):e instanceof Element?i.observe(e):NodeList.prototype.isPrototypeOf(e)?e.forEach((function(e){return i.observe(e)})):HTMLCollection.prototype.isPrototypeOf(e)?_toConsumableArray(e).forEach((function(e){return i.observe(e)})):console.error('Target element: "'.concat(e,'" not found'))};r.ObserveElementsOnce=function(e,t,r){u(e,t,r,!1)};r.ObserveElementsContinuous=function(e,t,r){u(e,t,r,!0)};var f=function(){a.forEach((function(e){e.disconnect()})),a=[]};r.KillAllObservers=f;var p=function(){f(),document.querySelectorAll("[".concat(n.ObserverSettings.observableAttrName,"]")).forEach((function(e,t){e.classList.remove(Settings.enterIntersectionClassName);var r=e.getAttribute(n.ObserverSettings.observableAttrName);r.length>0&&e.classList.remove("aio-".concat(r))}))};r.ResetAnimateIO=p;r.DestroyAnimateIO=function(){p(),document.querySelectorAll("[".concat(n.ObserverSettings.observableAttrName,"]")).forEach((function(e,t){var r=e.attributes;Array.from(r).forEach((function(t){t.name.indexOf(n.ObserverSettings.observableAttrName)>-1&&e.removeAttribute(t.name)}))}))};r.RestartAnimateIO=function(){p(),l()}},{"./Helpers":5,"./Mutations":6,"./Settings":9}],8:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ForceRenderLoop=r.StopRenderLoop=r.RenderLoop=r.InitRenderer=void 0;var n=e("./AnimationStateMachine"),o=e("./Settings"),i=0,a=-1,c=document.documentElement,s=0;r.InitRenderer=function(){var e=!0,t=o.AnimationSettings.fps;if(null!=t){var r=parseFloat(t);e=!isNaN(r)}e?function e(){u(),setTimeout((function(){s=requestAnimationFrame(e)}),1e3/t)}():function e(){u(),s=requestAnimationFrame(e)}()};var l=!1,u=function(){0!=n.StateMachine.activeCount&&(((i=(window.pageYOffset||c.scrollTop)-(c.clientTop||0))!=a||l)&&(a=i,document.body.setAttribute("data-scroll-top",i),l=!1,n.StateMachine.elements.filter((function(e){return e.ratio>0})).forEach((function(e){var t=e.keyframes,r=e.domElement,n=r.offsetTop;"relative"==o.AnimationSettings.mode&&t.forEach((function(e,t){var o=n+e.offset-window.innerHeight;e.absOffset=o,r.setAttribute("data-kf-".concat(t),o)}));for(var a=function(e){var n=t[e],o=t[e+1],a=n.absOffset,c=o.absOffset,s=i<a;if(s||i>c){var l=s?n:o;return Object.keys(l.props).forEach((function(e,t){var n=l.props[e],o=p(n.value);v(r,e,o)})),{v:void 0}}var u=(i-a)/(c-a);Object.keys(n.props).forEach((function(e){var t=f(n.props[e].value,o.props[e].value,u),i=p(t);v(r,e,i)}))},c=0;c<t.length-1;c++){var s=a(c);if("object"===_typeof(s))return s.v}}))))};r.RenderLoop=u;var f=function(e,t,r){var n,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var i=[e[0]];for(n=1;n<o;n++)i[n]=e[n]+(t[n]-e[n])*r;return i},p=function(e){var t=1;return e[0].replace(/\{\?\}/g,(function(){return e[t++]}))},v=function(e,t,r){var n=e.style,o=t.match(/-./g);if(null!=o){var i=o[0].toUpperCase();n[t.replace(o[0],i).replace("-","")]=r}else n[t]=r};r.StopRenderLoop=function(){cancelAnimationFrame(s)};r.ForceRenderLoop=function(){l=!0}},{"./AnimationStateMachine":2,"./Settings":9}],9:[function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.OverrideDefaultAnimationSettings=r.AnimationSettings=r.OverrideDefaultObserverSettings=r.ObserverSettings=void 0;var o=(_defineProperty(n={delay:0,offset:0,mode:"relative",observableAttrName:"data-aiobserve",enterIntersectionClassName:"aio-enter",exitIntersectionClassName:"aio-exit",repeat:!1,threshold:0,root:document,rootMargin:"0px 0px 0px 0px"},"threshold",0),_defineProperty(n,"trackMutations",!0),n),i=null;r.ObserverSettings=i;r.OverrideDefaultObserverSettings=function(e){return r.ObserverSettings=i=_objectSpread(_objectSpread({},o),e),i};var a={gridHelper:!1,trackMutations:!0,fps:null,deactivateBelow:1025},c=null;r.AnimationSettings=c;r.OverrideDefaultAnimationSettings=function(e){return r.AnimationSettings=c=_objectSpread(_objectSpread({},a),e),c}},{}]},{},[1]);